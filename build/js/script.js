var nav=document.querySelector(".main-nav"),toggle=document.querySelector(".main-nav__toggle");nav.classList.remove("main-nav--nojs"),toggle.addEventListener("click",function(){nav.classList.contains("main-nav--closed")?(nav.classList.remove("main-nav--closed"),nav.classList.add("main-nav--opened")):(nav.classList.add("main-nav--closed"),nav.classList.remove("main-nav--opened"))}),$(function(){$("#proposal-tel").mask("+7 (999) 999-9999"),$("#main-tel").mask("+7 (999) 999-9999"),$("#popup-tel").mask("+7 (999) 999-9999"),$("#gain-tel-1").mask("+7 (999) 999-9999"),$("#gain-tel-2").mask("+7 (999) 999-9999"),$("#gain-tel-3").mask("+7 (999) 999-9999")});var AUTO=[{firm:"Acura",models:["CL","CSX","EL","ILX","Integra","Legend","MDX","NSX","RDX","RL","RLX","RSX","TL","TLX","TSX","ZDX","другая"]},{firm:"Alfa Romeo",models:["145","146","147","155","156","159","164","166","33","75","Brera","Giulietta","GT","GTV","MiTo","Spider","другая"]},{firm:"Audi",models:["100","80","A1","A3","A4","A5","A6","A7","A8","Q3","Q5","Q7","S4","S5","S8","TT","другая"]},{firm:"BMW",models:["1-series","3-series","4-series","5-series","6-series","7-series","M3","M5","X1","X2","X3","X4","X5","X6","Z4","другая"]},{firm:"Buick",models:["Century","Enclave","Encore","LaCrosse","LeSabre","Lucerne","Regal","Riviera","Roadmaster","Skylark","Terraza","другая"]},{firm:"Cadillac",models:["ATS","BLS","CT6","CTS","DeVille","Escalade","Fleetwood","SRX","STS","XT5","другая"]},{firm:"Chery",models:["A1","A11","A13","A15","A19","A21","A5","Amulet A15","Arrizo 7","B11","Bonus","Chery","CrossEastar","Fora A21","indiS","Kimo","M11","QQ","Tiggo","Tiggo 2","Tiggo 3","Tiggo 5","Very","другая"]},{firm:"Chevrolet",models:["Aveo","Blazer","Camaro","Captiva","Cobalt","Cruze","Epica","Express","Lacetti","Lanos","Niva","Orlando","Rezzo","Spark","Tahoe","Tracker","TrailBlazer","Viva","другая"]},{firm:"Chrysler",models:["300C","300M","Cirrus","Concorde","Crossfire","Grand Voyager","Interpid","Le Baron","LHS","Neon","Pacifica","PT Cruiser","Saratoga","Sebring","Stratus","Town & Country","Vision","Voyager","другая"]},{firm:"Citroen",models:["Berlingo","C-Crosser","C-Elysee","C1","C2","C3","C3 Picasso","C4","C4 Aircross","C4 Picasso","C5","DS3","DS4","DS5","Grand C4 Picasso","Jumpy","Xsara","Xsara Picasso","другая"]},{firm:"Dacia",models:["Dokker","Duster","Lodgy","Logan","Logan MCV","Logan Pick-Up","Logan VAN","Sandero","Solenza","SupeRNova","другая"]},{firm:"Daewoo",models:["Damas","Espero","Evanda","Gentra","Kalos","Lacetti","Lanos","Leganza","Magnus","Matiz","Nexia","Nubira","Prince","Racer","Sens","Tacuma","Tico","Winstorm","другая"]},{firm:"Daihatsu",models:["Atrai","Atrai7","Be-Go","Boon","Charade","Esse","Hijet","Mira","Mira e:S","Move","Pyzar","Rocky","Sirion","Storia","Tanto","Terios","YRV","другая"]},{firm:"Datsun",models:["Datsun","Go","mi-Do","on-Do","другая"]},{firm:"Dodge",models:["Avenger","Caliber","Caravan","Challenger","Charger","Dakota","Dart","Durango","Grand Caravan","Interpid","Journey","Magnum","Neon","Nitro","Ram","Stealth","Stratus","Viper","другая"]},{firm:"DW Hower",models:["H3","H5","другая"]},{firm:"Fiat",models:["500","Albea","Brava","Bravo","Doblo","Fullback","Grnde Punto","Linea","Marea","Palio","Panda","Punto","Scudo","Sedici","Stilo","Tempra","Tipo","Uno","другая"]},{firm:"Ford",models:["C-MAX","EcoSport","Escape","Escort","Explorer","Fiesta","Focus","Fusion","Galaxy","Kuga","Maverick","Mondeo","Mustang","Ranger","S-MAX","Scorpio","Sierra","Tourneo Connect","другая"]},{firm:"Geely",models:["Atlas","CK","Emgrand EC7","Emgrand EC8","Emgrand GT","Emgrand X7","FC","GC6","Geely","MK","MK Cross","Otaka","Vision","другая"]},{firm:"Great Wall",models:["Coolbear","Deer","Florid","Great Wall","Hover","Hover H3","Hover H5","Hover H6","Hover M2","Hover M4","Pegasus","Peri","Safe","Sailor","Sing","Voleex c30","Wingle","другая"]},{firm:"Honda",models:["Accord","Airwave","Civic","Civic Ferio","CR-V","Domani","Fit","Fit Shuttle","HR-V","Insight","Inspire","Integra","Logo","Odyssey","Partner","Stepwgn","Stream","Torneo","другая"]},{firm:"Hyunday",models:["Accent","Avante","Creta","Elantra","Getz","Grand Starex","H1","i30","i40","ix35","Matrix","Santa Fe","Santa Fe Classic","Solaris","Sonata","Starex","Terracan","Tucson","другая"]},{firm:"Infinity",models:["EX25","EX35","FX30d","FX35","FX37","FX45","FX50","G25","G35","JX35","M35","M37","Q50","QX50","QX56","QX60","QX70","QX80","другая"]},{firm:"Jaguar",models:["Daimler","E-Pace","F-Type","I-Pace","Jaguar","S-type","Sovereign","X-Type","XE","XF","XJ","XJS","XK","другая"]},{firm:"Jeep",models:["Cherokee","Commander","Compass","Grand Cherokee","Jeep","Liberty","Patriot","Renegade","Wrangler","другая"]},{firm:"Kia",models:["Carens","ceed","Cerato","Forte","Magentis","Mohave","Optima","Picanto","Quoris","Rio","Sorento","Soul","Spectra","Sportage","Stinger","Venga","другая"]},{firm:"Lancia",models:["Dedra","Delta","Kappa","Lancia","Lybra","Montecarlo","Musa","Phedra","Prisma","Thema","Thesis","Y","Ypsilon","Zeta","другая"]},{firm:"Lexus",models:["ES250","GS300","GS350","GX460","GX470","IS250","LS430","LX450d","LX470","LX570","NX200","RX270","RX300","RX330","RX350","RX400h","RX450h","другая"]},{firm:"Lifan",models:["Breez","Cebrium","Celliya","Lifan","Murman","Myway","Smily","Solano","X50","X60","X70","другая"]},{firm:"Lotus",models:["Elise","Esprit","Europa S","Evora","Exige","Lotus","Super 7","другая"]},{firm:"Mazda",models:["323","626","Atenza","Axela","Bongo","Capella","CX-5","CX-7","Demio","Familia","Mazda3","Mazda6","MPV","Premacy","RX-8","Tribute","другая"]},{firm:"Mercedes-Benz",models:["A-Class","B-Class","C-Class","CL-Class","CLK-Class","CLS-Class","E-Class","G-Class","GL-Class","GLA-Class","GLC","GLE","GLK-Class","GLS-Class","M-Class","S-Class","Vito","другая"]},{firm:"Mini",models:["Cabrio","Clubman","Cooper","Countryman","Coupe","Hatch","One","Paceman","Roadster","другая"]},{firm:"Mitsubishi",models:["Airtek","ASX","Colt","Delica","Diamante","Galant","L200","Lancer","Libero","Mirage","Montero","Outlander","Pajero","RVR","другая"]},{firm:"Nissan",models:["AD","Almera","Cefiro","Cube","Juke","March","Murano","Note","Primera","Qashqai","Serena","Skyline","Sunny","Teana","Terrano","Tiida","Wingroad","X-Trail","другая"]},{firm:"Opel",models:["Antara","Ascona","Astra","Combo","Corsa","Frontera","Insignia","Kadett","Meriva","Mokka","Monterey","Omega","Vectra","Vita","Vivaro","Zafira","другая"]},{firm:"Peugeot",models:["107","206","207","208","3008","301","307","308","4007","406","407","408","5008","508","607","Partner","Peugeot","другая"]},{firm:"Pontiac",models:["6000","Aztek","Bonneville","Fiero","Firebird","G6","Grand Am","Grand Prix","GTO","Lemans","Montana","Pontiac","Solstice","Sunfire","Torrent","Trans AM","Trans Sport","Vibe","другая"]},{firm:"Renault",models:["Clio","Dokker","Duster","Espace","Fluence","Grand Scenic","Kangoo","Kaptur","Koleos","Laguna","Latitude","Logan","Megane","Sandero","Scenic","Symbol","Trafic","другая"]},{firm:"Rover",models:["14","200","25","400","45","600","75","800","Maestro","Mayfair","MGF","Mini","Montego","Rover","Streetwise","другая"]},{firm:"Saab",models:["9-2X","9-3","9-4X","9-5","9-7X","900","9000","99","Saab","другая"]},{firm:"Seat",models:["Alhambra","Altea","Arona","Arosa","Ateca","Cordoba","Exeo","Ibiza","Inca","Leon","Marbella","Mii","Ronda","Seat","Terra","Toledo","другая"]},{firm:"Skoda",models:["Citigo","Fabia","Favorit","Felicia","Forman","Karoq","Kodiaq","Octavia","Praktik","Rapid","Roomster","Skoda","Superb","Yeti","другая"]},{firm:"SsangYong",models:["Actyon","Chairman","Istana","Korando","Kyron","Musso","Rexton","Rodius","SsangYong","Stavic","Tivoli","другая"]},{firm:"Subaru",models:["B9 Tribeca","Exiga","Forester","Impreza","Legacy","Outback","Pleo","R2","Stella","Traviq","Trezia","Tribeca","XV","другая"]},{firm:"Suzuki",models:["Aerio","Alto","Cultus","Escudo","Grand Vitara","Jimny","Kei","Liana","Solio","Splash","Swift","SX4","Vitara","Wagon R","другая"]},{firm:"Toyota",models:["Allion","Avensis","Caldina","Camry","Carina","Chaser","Corolla","Corona","Crown","Harrier","Land Cruiser","Mark II","Prius","RAV4","Vista","Vitz","другая"]},{firm:"Volkswagen",models:["Amarok","Beetle","Bora","Caddy","Caravelle","Golf","Jetta","Multivan","Passat","Polo","Scirocco","Sharan","Tiguan","Touareg","Touran","Transporter","другая"]},{firm:"Volvo",models:["460","740","850","940","960","C30","S40","S60","S70","S80","S90","V40","V60","V70","V90","XC60","XC70","XC90","другая"]},{firm:"Лада",models:["2104","2105","2106","2107","2108","2109","21099","2110","2111","2112","2114","2115","Vesta","Granta","Kalina","Largus","Priora","Нива","другая"]},{firm:"УАЗ",models:["3151","3153","3159","469","Hunter","Patriot","другая"]},{firm:"Прочие авто",models:[]}],AUTO_YEARS=["2018","2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003","другое"],form=document.querySelector(".main__form"),brand=form.querySelector("#brand-select"),year=form.querySelector("#year-select"),model=form.querySelector("#model-select"),autoPropertyFirm="firm",autoPropertyModels="models",createOption=function(e,a){for(var o=[],r=0;r<e.length;r++){var i=document.createElement("option");"object"==typeof e[r]?i.appendChild(document.createTextNode(e[r][a])):i.appendChild(document.createTextNode(e[r])),i.setAttribute("value",e[r]),o.push(i)}return o},createSecondOption=function(e){for(var a=[],o=0;o<e.length;o++){for(var r=[],i=0;i<e[o].models.length;i++){var t=document.createElement("option");t.appendChild(document.createTextNode(e[o].models[i])),t.setAttribute("value",e[o]),r.push(t)}a.push(r)}return a},addOption=function(e,a){for(var o=0;o<a.length;o++)e.appendChild(a[o])},addSecondOption=function(){model.options.length=0;for(var e=brand.options.selectedIndex,a=createModels[e-1],o=0;o<a.length;o++)model.appendChild(a[o])},createBrand=createOption(AUTO,autoPropertyFirm),createYear=createOption(AUTO_YEARS,autoPropertyFirm),createModels=createSecondOption(AUTO);addOption(brand,createBrand),addOption(year,createYear),brand.addEventListener("change",function(){addSecondOption()});var width,slides=4,size=25,cols=document.getElementsByClassName("reviews__list-item"),block=document.querySelector("#block"),prev=document.querySelector("#prev"),next=document.querySelector("#next"),minMaxWidth=window.matchMedia("(max-width: 550px)"),maxWidth=window.matchMedia("(min-width: 551px) and (max-width: 767px)"),mobileWidth=window.matchMedia("(max-width: 767px)");for(minMaxWidth.matches?(size=25,width=100*(slides=5)):width=maxWidth.matches?60*slides:50*slides,block.style.width=width+"%",i=0;i<cols.length;i++)cols[i].style.width=size+"%";var moveToRight=function(){var e=block.dataset.slide;if(1==e){var a=(slides-2)*size;block.style.transform="translate(-"+a+"%,0)",block.dataset.slide=parseInt(slides)-1}if(1!=e){a=(e-2)*size;block.style.transform="translate(-"+a+"%,0)",block.dataset.slide=parseInt(e)-1}prev.style.display="block",next.style.display="none"},moveToLeft=function(){var e=block.dataset.slide,a=e*size;e<slides-1?(block.style.transform="translate(-"+a+"%,0)",block.dataset.slide=parseInt(e)+1):(block.style.transform="translate(0%,0)",block.dataset.slide=1),prev.style.display="none",next.style.display="block"},moveToRightMobile=function(){var e=block.dataset.slide,a=e*size;e<slides-1?(block.style.transform="translate(-"+a+"%,0)",block.dataset.slide=parseInt(e)+1):(block.style.transform="translate(0%,0)",block.dataset.slide=1)},moveToLeftMobile=function(){var e=block.dataset.slide;if(1==e){var a=(slides-2)*size;block.style.transform="translate(-"+a+"%,0)",block.dataset.slide=parseInt(slides)-1}if(1!=e){a=(e-2)*size;block.style.transform="translate(-"+a+"%,0)",block.dataset.slide=parseInt(e)-1}};next.addEventListener("click",function(e){e.preventDefault,mobileWidth.matches?moveToRightMobile():moveToRight()}),prev.addEventListener("click",function(e){e.preventDefault,mobileWidth.matches?moveToLeftMobile():moveToLeft()});var ESC_KEYCODE=27,ENTER_KEYCODE=13,linksJoin=document.querySelectorAll(".join__button"),mainPopup=document.querySelector(".main-popup"),popupWrapper=document.querySelector(".popup-wrapper"),popupClose=mainPopup.querySelector(".popup__close"),linkInstruction=document.querySelector(".instruction__button"),gainLink1=document.querySelector(".gain__button--1"),gainPopup1=document.querySelector(".gain__popup--1"),gainClose1=gainPopup1.querySelector(".popup__close"),gainLink2=document.querySelector(".gain__button--2"),gainPopup2=document.querySelector(".gain__popup--2"),gainClose2=gainPopup2.querySelector(".popup__close"),gainLink3=document.querySelector(".gain__button--3"),gainPopup3=document.querySelector(".gain__popup--3"),gainClose3=gainPopup3.querySelector(".popup__close"),openPopup=function(e,r){e.addEventListener("click",function(e){e.preventDefault(),r.classList.add("popup--show"),popupWrapper.classList.add("popup-wrapper--show");var a=r.querySelector('input[type="text"]');if(a)a.focus();else{var o=r.querySelector('input[type="tel"]');o.focus()}r.querySelector("form").addEventListener("submit",function(e){a.value&&o.value||e.preventDefault()}),document.addEventListener("keydown",onPopupEscPress)})},closePopup=function(e,a){e.addEventListener("click",function(e){e.preventDefault(),a.classList.remove("popup--show"),popupWrapper.classList.remove("popup-wrapper--show"),document.removeEventListener("keydown",onPopupEscPress)})},closeAll=function(){for(var e=document.querySelectorAll(".popup"),a=0;a<e.length;a++)e[a].classList.remove("popup--show");popupWrapper.classList.remove("popup-wrapper--show")},onPopupEscPress=function(e){e.keyCode===ESC_KEYCODE&&"input"!==document.activeElement.tagName.toLowerCase()&&closeAll()};popupWrapper.addEventListener("click",function(e){"input"!==document.activeElement.tagName.toLowerCase()&&closeAll()});for(var i=0;i<linksJoin.length;i++)openPopup(linksJoin[i],mainPopup);openPopup(gainLink1,gainPopup1),closePopup(gainClose1,gainPopup1),openPopup(gainLink2,gainPopup2),closePopup(gainClose2,gainPopup2),openPopup(gainLink3,gainPopup3),closePopup(gainClose3,gainPopup3),openPopup(linkInstruction,mainPopup),closePopup(popupClose,mainPopup);